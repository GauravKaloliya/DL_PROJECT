:root{color-scheme:light;--bg: #f0f2f5;--panel: #ffffff;--text: #1c1e21;--muted: #65676b;--primary: #1877f2;--secondary: #e7f3ff;--accent: #d2e2ff;--warning: #ffb347;--success: #42b72a;--error: #c9444a;--border: #ccd0d5;--shadow: 0 8px 32px rgba(24, 119, 242, .15);--gradient: linear-gradient(135deg, #f0f2f5 0%, #e7f3ff 100%)}body.dark{color-scheme:dark;--bg: #18191a;--panel: #242526;--text: #e4e6eb;--muted: #b0b3b8;--primary: #1877f2;--secondary: #3a5795;--accent: #2d4778;--warning: #ffb347;--success: #42b72a;--error: #ff8fa3;--border: #3a3b3c;--shadow: 0 8px 32px rgba(0, 0, 0, .3);--gradient: linear-gradient(135deg, #18191a 0%, #242526 100%)}body{margin:0;background:var(--gradient);color:var(--text);font-family:Quicksand,Nunito,system-ui,sans-serif;min-height:100vh;transition:background .3s ease,color .3s ease}*{box-sizing:border-box}.app{max-width:1024px;margin:0 auto;padding:24px;display:flex;flex-direction:column;gap:24px}.header{display:flex;justify-content:space-between;align-items:center;gap:16px;flex-wrap:wrap;background:var(--panel);padding:20px 24px;border-radius:24px;box-shadow:var(--shadow)}.header h1{margin:0;font-weight:700;color:var(--primary);font-size:28px}.subtitle{margin:4px 0 0;color:var(--muted);font-weight:500}.header-actions{display:flex;gap:12px;align-items:center}.status-dot{padding:8px 16px;border-radius:999px;font-size:13px;font-weight:600;background:var(--accent);color:#1c1e21}.status-dot.offline{background:#ffccd5;color:#c9444a}body.dark .status-dot.offline{background:#3d1f25;color:#ff8fa3}.status-dot.online{background:var(--accent);color:#2d7a5e}.panel{background:var(--panel);border:2px solid var(--border);border-radius:24px;padding:28px;box-shadow:var(--shadow)}.panel h2{margin-top:0;color:var(--primary);font-weight:700}.banner{padding:14px 18px;border-radius:16px;margin-bottom:16px;font-size:14px;font-weight:500;border:2px solid transparent}.banner.warning{background:#fff5e6;color:#d97706;border-color:#ffe0b3}body.dark .banner.warning{background:#3d2f1a;color:#ffb347;border-color:#5a451f}.banner.info{background:#f0f4ff;color:#6366f1;border-color:#e0e7ff}body.dark .banner.info{background:#2d2640;color:#9d8ec4;border-color:#3d3552}.form-grid{display:grid;gap:20px;grid-template-columns:repeat(2,1fr);margin:20px 0}@media (max-width: 768px){.form-grid{grid-template-columns:1fr}}.form-field{display:flex;flex-direction:column;gap:6px}.form-field label{font-weight:600;color:var(--text);font-size:14px}.form-field.error label{color:var(--error)}.form-field input,.form-field select{width:100%}.welcome-info{margin:24px 0;padding:20px;background:#1877f20d;border-radius:16px;border:1px solid var(--border)}.welcome-info h3{color:var(--primary);margin:20px 0 12px;font-size:16px}.welcome-info h3:first-child{margin-top:0}.welcome-info ul{margin:12px 0;padding-left:24px}.welcome-info li{margin:8px 0;color:var(--text);line-height:1.5}.welcome-info p{margin:12px 0;line-height:1.6;color:var(--text)}input,select,textarea{border-radius:12px;border:2px solid var(--border);padding:12px 16px;background:var(--panel);color:inherit;font-size:14px;font-family:inherit;transition:all .2s ease}select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;padding-right:40px}input:focus,select:focus,textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #1877f226}input::placeholder,textarea::placeholder{color:var(--muted);opacity:.7}textarea{min-height:130px;resize:vertical}.error-input{border-color:var(--error)!important;background-color:#c9444a0d!important}.error-text{color:var(--error);font-size:12px;font-weight:500}.consent-checkbox{display:flex;align-items:flex-start;gap:12px;margin:20px 0;padding:16px;background:#1877f20d;border-radius:12px;border:2px solid var(--border);transition:all .3s ease}.consent-checkbox:hover{border-color:var(--primary)}.consent-checkbox.error{border-color:var(--error);background:#c9444a0d}.consent-checkbox input[type=checkbox]{width:24px;height:24px;accent-color:var(--primary);margin-top:4px}.consent-checkbox label{flex:1;font-weight:500;color:var(--text);cursor:pointer}.primary{padding:14px 28px;border-radius:50px;border:none;cursor:pointer;font-weight:700;font-size:16px;font-family:inherit;background:var(--primary);color:#fff;box-shadow:0 4px 15px #1877f266;transition:all .3s ease;display:inline-flex;align-items:center;justify-content:center;gap:8px}.primary:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #1877f280}.primary:disabled{opacity:.5;cursor:not-allowed}.ghost{padding:14px 28px;border-radius:50px;border:2px solid var(--border);cursor:pointer;font-weight:600;font-size:14px;font-family:inherit;background:transparent;color:var(--text);transition:all .3s ease;display:inline-flex;align-items:center;justify-content:center;gap:8px}.ghost:hover:not(:disabled){background:var(--panel);border-color:var(--primary);color:var(--primary)}.ghost:disabled{opacity:.5;cursor:not-allowed}.dark-mode-toggle{padding:10px 14px!important;font-size:18px}.progress{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;color:var(--muted);font-weight:600;font-size:15px}.trial{display:flex;flex-direction:column;gap:18px}.image-container{position:relative;border-radius:24px;overflow:hidden;border:3px solid var(--border);background:var(--panel);display:flex;justify-content:center;align-items:center;max-height:420px;min-height:300px;transition:all .3s ease}.image-container img{max-width:100%;max-height:420px;transition:transform .3s ease;cursor:zoom-in}.image-container.zoomed img{transform:scale(1.5);cursor:zoom-out}.image-loading,.image-error{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;justify-content:center;align-items:center;font-weight:600}.image-loading{background:#1877f20d;color:var(--primary)}.image-error{background:#c9444a0d;color:var(--error)}.zoom-toggle{position:absolute;bottom:16px;right:16px;background:var(--panel);color:var(--primary);border:2px solid var(--border);padding:8px 16px;border-radius:999px;cursor:pointer;font-size:13px;font-weight:600;transition:all .2s ease}.zoom-toggle:hover{background:var(--primary);color:#fff}.meta{display:flex;gap:12px;align-items:center;color:var(--muted);font-weight:500}.timer{font-weight:600;color:var(--primary)}.tag{padding:6px 14px;border-radius:999px;font-size:12px;font-weight:600}.tag.survey{background:#d2e2ff;color:#1c1e21}body.dark .tag.survey{background:#2d4778;color:#e4e6eb}.tag.attention{background:#fff5e6;color:#d97706}body.dark .tag.attention{background:#3d2f1a;color:#ffb347}.field{display:flex;flex-direction:column;gap:8px}.field label{font-weight:600;color:var(--primary)}.counts{display:flex;gap:20px;font-size:13px;color:var(--muted);font-weight:500;flex-wrap:wrap}.counts .ok{color:var(--success);font-weight:600}.counts .warning{color:var(--warning);font-weight:600}.rating-scale{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}.rating-option{cursor:pointer}.rating-option input{display:none}.rating-label{display:flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:50%;background:var(--panel);border:2px solid var(--border);font-weight:600;font-size:14px;color:var(--text);transition:all .2s ease}.rating-option:hover .rating-label{border-color:var(--primary);transform:scale(1.05)}.rating-option input:checked+.rating-label{background:var(--primary);border-color:var(--primary);color:#fff;transform:scale(1.1);box-shadow:0 4px 12px #1877f266}.rating-labels{display:flex;justify-content:space-between;font-size:12px;color:var(--muted);margin-top:8px;padding:0 10px}.effort-rating{margin-bottom:20px}.actions{display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:center}.hint{font-size:13px;color:var(--muted);font-style:italic;text-align:center}.guidance{text-align:center;padding:20px}.guidance h2{color:var(--primary)}.debrief{color:var(--muted);font-size:14px;line-height:1.6}.toast-container{position:fixed;top:20px;right:20px;display:flex;flex-direction:column;gap:12px;z-index:1000}.toast{background:var(--panel);border:2px solid var(--border);padding:14px 18px;border-radius:16px;display:flex;gap:12px;align-items:center;min-width:260px;box-shadow:0 8px 24px #00000026;animation:slideIn .3s ease}@keyframes slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.toast.success{border-color:var(--success);background:#f0fff4}body.dark .toast.success{background:#1f3d33}.toast.error{border-color:#ffccd5;background:#fff5f7}body.dark .toast.error{background:#3d1f25}.toast.warning{border-color:#ffe0b3;background:#fffaf0}body.dark .toast.warning{background:#3d2f1a}.toast-action{margin-left:auto;background:var(--primary);border:none;color:#fff;padding:6px 14px;border-radius:999px;font-size:12px;cursor:pointer;font-weight:600}.toast button[aria-label=Dismiss]{margin-left:auto;background:transparent;border:none;font-size:20px;cursor:pointer;color:var(--muted)}.confetti{pointer-events:none;position:fixed;top:0;right:0;bottom:0;left:0;overflow:hidden;z-index:10}.confetti-piece{position:absolute;width:10px;height:18px;top:-10px;animation:fall 1.6s linear infinite}.piece-0{background:#ff8fa3;left:10%;animation-delay:0s}.piece-1{background:#ffb347;left:25%;animation-delay:.1s}.piece-2{background:#ffd93d;left:40%;animation-delay:.2s}.piece-3{background:#a8e6cf;left:55%;animation-delay:.15s}.piece-4{background:#c7b8ff;left:70%;animation-delay:.05s}.piece-5{background:#ff8fa3;left:85%;animation-delay:.25s}@keyframes fall{0%{transform:translateY(0) rotate(0);opacity:1}to{transform:translateY(110vh) rotate(720deg);opacity:0}}.spinner{width:40px;height:40px;border:4px solid var(--border);border-top:4px solid var(--primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes wiggle{0%,to{transform:rotate(-3deg)}50%{transform:rotate(3deg)}}.wiggle{animation:wiggle .5s ease-in-out}.branding-footer{text-align:center;color:var(--muted);font-size:14px;padding:16px 0}@media (max-width: 768px){.app{padding:16px}.header{flex-direction:column;align-items:flex-start}.header-actions{width:100%;justify-content:space-between}.header h1{font-size:24px}.panel{padding:20px}.counts{flex-direction:column;gap:8px}.actions{flex-direction:column}.primary,.ghost{width:100%}.toast-container{left:16px;right:16px}.toast{min-width:auto}}::-webkit-scrollbar{width:10px;height:10px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--primary);border-radius:999px}::-webkit-scrollbar-thumb:hover{background:#166fe5}.hidden{display:none}.loading{text-align:center;padding:40px;color:var(--muted);font-style:italic}.no-data-message{text-align:center;padding:40px;color:var(--muted);background:#1877f20d;border-radius:16px;border:2px dashed var(--border)}
